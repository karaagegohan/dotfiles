#!/bin/bash

file_num=$( \
  ls -U1 $HOME/.Trash \
  | wc -l \
  )

trash_size=$( \
  du -h -c -m $HOME/.Trash \
  | echo `grep 'total'` \
  | sed -e 's/ .*//g' \
  | sed -e 's/[MBK]//g' \
  )

DISPLAY=''
for i in "$@"
do
  case "$i" in
    "-h")
      echo "usage: trash-info [-n num][-s size]" 1>&2
      exit
      ;;
    "-n")
      DISPLAY="${DISPLAY} ${file_num} file(s)"
      ;;
    "-s")
      DISPLAY="${DISPLAY} ${trash_size} MB"
      ;;
    -*)
      echo "$i: unknown option" 1>&2
      exit 1
      ;;
  esac
done
echo $DISPLAY

